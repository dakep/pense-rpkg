<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract Coefficient Estimates — coef.pense_cvfit • pense</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Coefficient Estimates — coef.pense_cvfit"><meta property="og:description" content="Extract coefficients from an adaptive PENSE (or LS-EN) regularization path with hyper-parameters
chosen by cross-validation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pense</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.0-1002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/computing_adapense.html">Estimating predictive models</a>
    </li>
    <li>
      <a href="../articles/lambda_grids.html">Controlling the grid of penalization levels</a>
    </li>
    <li>
      <a href="../articles/migration_guide.html">Migrating from pense version 1.x to 2.x</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dakep/pense-rpkg/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract Coefficient Estimates</h1>
    <small class="dont-index">Source: <a href="https://github.com/dakep/pense-rpkg/blob/HEAD/R/coef-methods.R" class="external-link"><code>R/coef-methods.R</code></a></small>
    <div class="hidden name"><code>coef.pense_cvfit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract coefficients from an adaptive PENSE (or LS-EN) regularization path with hyper-parameters
chosen by cross-validation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for pense_cvfit</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lambda <span class="op">=</span> <span class="st">"min"</span>,</span>
<span>  se_mult <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sparse <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  standardized <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  exact <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  correction <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>PENSE with cross-validated hyper-parameters to extract coefficients from.</p></dd>


<dt>alpha</dt>
<dd><p>Either a single number or <code>NULL</code> (default).
If given, only fits with the given <code>alpha</code> value are considered.
If <code>lambda</code> is a numeric value and <code>object</code> was fit with multiple <em>alpha</em>
values and no value is provided, the first value in <code>object$alpha</code> is used with a warning.</p></dd>


<dt>lambda</dt>
<dd><p>either a string specifying which penalty level to use
(<code>"min"</code>, <code>"se"</code>, <code>"{m}-se</code>")
or a single numeric value of the penalty parameter. See details.</p></dd>


<dt>se_mult</dt>
<dd><p>If <code>lambda = "se"</code>, the multiple of standard errors to tolerate.</p></dd>


<dt>sparse</dt>
<dd><p>should coefficients be returned as sparse or dense vectors?
Defaults to the sparsity setting of the given <code>object</code>.
Can also be set to <code>sparse = 'matrix'</code>, in which case a sparse matrix
is returned instead of a sparse vector.</p></dd>


<dt>standardized</dt>
<dd><p>return the standardized coefficients.</p></dd>


<dt>exact, correction</dt>
<dd><p>defunct.</p></dd>


<dt>...</dt>
<dd><p>currently not used.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>either a numeric vector or a sparse vector of type
<a href="https://rdrr.io/pkg/Matrix/man/sparseVector-class.html" class="external-link">dsparseVector</a></p>


<p>of size \(p + 1\), depending on the <code>sparse</code> argument.
Note: prior to version 2.0.0 sparse coefficients were returned as sparse matrix of
type <em>dgCMatrix</em>.
To get a sparse matrix as in previous versions, use <code>sparse = 'matrix'</code>.</p>
    </div>
    <div id="hyper-parameters">
    <h2>Hyper-parameters</h2>
    


<p>If <code>lambda = "{m}-se"</code> and <code>object</code> contains fitted estimates for every penalization
level in the sequence, use the fit the most parsimonious model with prediction performance
statistically indistinguishable from the best model.
This is determined to be the model with prediction performance within <code>m * cv_se</code>
from the best model.
If <code>lambda = "se"</code>, the multiplier <em>m</em> is taken from <code>se_mult</code>.</p>
<p>By default all <em>alpha</em> hyper-parameters available in the fitted object are considered.
This can be overridden by supplying one or multiple values in parameter <code>alpha</code>.
For example, if <code>lambda = "1-se"</code> and <code>alpha</code> contains two values, the "1-SE" rule is applied
individually for each <code>alpha</code> value, and the fit with the better prediction error is considered.</p>
<p>In case <code>lambda</code> is a number and <code>object</code> was fit for several <em>alpha</em> hyper-parameters,
<code>alpha</code> must also be given, or the first value in <code>object$alpha</code> is used with a warning.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other functions for extracting components: 
<code><a href="coef.pense_fit.html">coef.pense_fit</a>()</code>,
<code><a href="predict.pense_cvfit.html">predict.pense_cvfit</a>()</code>,
<code><a href="predict.pense_fit.html">predict.pense_fit</a>()</code>,
<code><a href="residuals.pense_cvfit.html">residuals.pense_cvfit</a>()</code>,
<code><a href="residuals.pense_fit.html">residuals.pense_fit</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Compute the PENSE regularization path for Freeny's revenue data</span></span></span>
<span class="r-in"><span><span class="co"># (see ?freeny)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">freeny</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">freeny</span><span class="op">[</span> , <span class="fl">2</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">regpath</span> <span class="op">&lt;-</span> <span class="fu"><a href="pense.html">pense</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">freeny</span><span class="op">$</span><span class="va">y</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">regpath</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coef.pense_cvfit-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract the coefficients at a certain penalization level</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">regpath</span>, lambda <span class="op">=</span> <span class="va">regpath</span><span class="op">$</span><span class="va">lambda</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">40</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           (Intercept) lag.quarterly.revenue           price.index </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            -7.9064997             0.2125014            -0.7070107 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          income.level      market.potential </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             0.7141099             1.0796662 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># What penalization level leads to good prediction performance?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cv_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="pense_cv.html">pense_cv</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">freeny</span><span class="op">$</span><span class="va">y</span>, alpha <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>                       cv_repl <span class="op">=</span> <span class="fl">2</span>, cv_k <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cv_results</span>, se_mult <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coef.pense_cvfit-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract the coefficients at the penalization level with</span></span></span>
<span class="r-in"><span><span class="co"># smallest prediction error ...</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">cv_results</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           (Intercept) lag.quarterly.revenue           price.index </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            -7.9064997             0.2125014            -0.7070107 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          income.level      market.potential </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             0.7141099             1.0796662 </span>
<span class="r-in"><span><span class="co"># ... or at the penalization level with prediction error</span></span></span>
<span class="r-in"><span><span class="co"># statistically indistinguishable from the minimum.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">cv_results</span>, lambda <span class="op">=</span> <span class="st">'1-se'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           (Intercept) lag.quarterly.revenue           price.index </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            -7.8652589             0.2141280            -0.7053433 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          income.level      market.potential </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             0.7126978             1.0754335 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Kepplinger, Matías Salibián-Barrera, Gabriela Cohen Freue.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

