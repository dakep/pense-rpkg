<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Predict Method for PENSE Fits — predict.pense_cvfit • pense</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Predict Method for PENSE Fits — predict.pense_cvfit" />
<meta property="og:description" content="Predict response values using a PENSE (or LS-EN) regularization path with hyper-parameters chosen by
cross-validation." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pense</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.4.100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/computing_adapense.html">Estimating predictive models</a>
    </li>
    <li>
      <a href="../articles/lambda_grids.html">Controlling the grid of penalization levels</a>
    </li>
    <li>
      <a href="../articles/migration_guide.html">Migrating from pense version 1.x to 2.x</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dakep/pense-rpkg/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predict Method for PENSE Fits</h1>
    <small class="dont-index">Source: <a href='https://github.com/dakep/pense-rpkg/blob/master/R/residuals-methods.R'><code>R/residuals-methods.R</code></a></small>
    <div class="hidden name"><code>predict.pense_cvfit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Predict response values using a PENSE (or LS-EN) regularization path with hyper-parameters chosen by
cross-validation.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for pense_cvfit</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span>
  <span class='va'>object</span>,
  <span class='va'>newdata</span>,
  lambda <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"min"</span>, <span class='st'>"se"</span><span class='op'>)</span>,
  se_mult <span class='op'>=</span> <span class='fl'>1</span>,
  exact <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>,
  correction <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>PENSE with cross-validated hyper-parameters to extract coefficients from.</p></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>an optional matrix of new predictor values. If missing, the fitted values are computed.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>either a string specifying which penalty level to use or a a single numeric value of the penalty
parameter. See details.</p></td>
    </tr>
    <tr>
      <th>se_mult</th>
      <td><p>If <code>lambda = "se"</code>, the multiple of standard errors to tolerate.</p></td>
    </tr>
    <tr>
      <th>exact</th>
      <td><p>deprecated. Always gives a warning if <code>lambda</code> is not part of the fitted sequence and coefficients
are interpolated.</p></td>
    </tr>
    <tr>
      <th>correction</th>
      <td><p>defunct.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>currently not used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a numeric vector of residuals for the given penalization level.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If <code>lambda = "se"</code> and <code>object</code> contains fitted estimates for every penalization level in the sequence, extract the
residuals of the most parsimonious model with prediction performance statistically indistinguishable from the best
model. This is determined to be the model with prediction performance within <code>se_mult * cv_se</code> from the best model.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other functions for extracting components: 
<code><a href='coef.pense_cvfit.html'>coef.pense_cvfit</a>()</code>,
<code><a href='coef.pense_fit.html'>coef.pense_fit</a>()</code>,
<code><a href='predict.pense_fit.html'>predict.pense_fit</a>()</code>,
<code><a href='residuals.pense_cvfit.html'>residuals.pense_cvfit</a>()</code>,
<code><a href='residuals.pense_fit.html'>residuals.pense_fit</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Compute the LS-EN regularization path for Freeny's revenue data</span>
<span class='co'># (see ?freeny)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>freeny</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>freeny</span><span class='op'>[</span> , <span class='fl'>2</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span><span class='op'>)</span>

<span class='va'>regpath</span> <span class='op'>&lt;-</span> <span class='fu'><a href='elnet.html'>elnet</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>freeny</span><span class='op'>$</span><span class='va'>y</span>, alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span>

<span class='co'># Predict the response using a specific penalization level</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>regpath</span>, newdata <span class='op'>=</span> <span class='va'>freeny</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>, <span class='fl'>2</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>,
        lambda <span class='op'>=</span> <span class='va'>regpath</span><span class='op'>$</span><span class='va'>lambda</span><span class='op'>[</span><span class='fl'>10</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  1962.25   1962.5  1962.75     1963  1963.25 
#&gt; 9.071638 9.075877 9.082341 9.091051 9.103643 </div><div class='input'>
<span class='co'># Extract the residuals at a certain penalization level</span>
<span class='fu'><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></span><span class='op'>(</span><span class='va'>regpath</span>, lambda <span class='op'>=</span> <span class='va'>regpath</span><span class='op'>$</span><span class='va'>lambda</span><span class='op'>[</span><span class='fl'>5</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt;              Qtr1         Qtr2         Qtr3         Qtr4
#&gt; 1962              -0.396169224 -0.398919454 -0.378220695
#&gt; 1963 -0.384593892 -0.294338479 -0.278030430 -0.259140970
#&gt; 1964 -0.265543684 -0.219857551 -0.206023748 -0.173545125
#&gt; 1965 -0.192086388 -0.146253918 -0.133786817 -0.096671191
#&gt; 1966 -0.090347926 -0.044601264 -0.027307275 -0.015531362
#&gt; 1967  0.006739697  0.037235389  0.038869333  0.071407419
#&gt; 1968  0.086275062  0.102036759  0.141643505  0.167310507
#&gt; 1969  0.175437660  0.211500792  0.222942549  0.260029329
#&gt; 1970  0.247870647  0.296181577  0.294470169  0.278217170
#&gt; 1971  0.306686546  0.334684047  0.353729154  0.367702082</div><div class='input'>
<span class='co'># Select penalization level via cross-validation</span>
<span class='va'>cv_results</span> <span class='op'>&lt;-</span> <span class='fu'><a href='elnet_cv.html'>elnet_cv</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>freeny</span><span class='op'>$</span><span class='va'>y</span>, alpha <span class='op'>=</span> <span class='fl'>0.5</span>, cv_repl <span class='op'>=</span> <span class='fl'>10</span>,
                       cv_k <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>

<span class='co'># Predict the response using the "best" penalization level</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>cv_results</span>, newdata <span class='op'>=</span> <span class='va'>freeny</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>, <span class='fl'>2</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  1962.25   1962.5  1962.75     1963  1963.25 
#&gt; 8.795563 8.807410 8.824800 8.842452 8.883047 </div><div class='input'>
<span class='co'># Extract the residuals at the "best" penalization level</span>
<span class='fu'><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></span><span class='op'>(</span><span class='va'>cv_results</span><span class='op'>)</span><span class='op'>^</span><span class='fl'>2</span>
</div><div class='output co'>#&gt;              Qtr1         Qtr2         Qtr3         Qtr4
#&gt; 1962              1.025889e-05 2.572974e-04 9.880930e-05
#&gt; 1963 8.668131e-04 5.984148e-04 1.580128e-04 1.734852e-04
#&gt; 1964 2.070311e-04 4.390454e-05 3.728324e-06 1.617290e-04
#&gt; 1965 6.949301e-04 1.402935e-05 1.101094e-04 6.289458e-06
#&gt; 1966 2.252614e-04 2.219063e-04 7.720522e-05 8.334883e-06
#&gt; 1967 5.871919e-06 1.286182e-04 2.339658e-05 4.400570e-06
#&gt; 1968 2.103897e-04 2.531552e-04 2.446001e-05 9.280848e-05
#&gt; 1969 8.074252e-05 6.367142e-04 1.232587e-04 8.009311e-04
#&gt; 1970 4.672266e-04 2.419174e-04 3.292797e-05 3.356411e-04
#&gt; 1971 1.220128e-04 3.729409e-05 1.641072e-05 6.698000e-05</div><div class='input'><span class='co'># Extract the residuals at a more parsimonious penalization level</span>
<span class='fu'><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></span><span class='op'>(</span><span class='va'>cv_results</span>, lambda <span class='op'>=</span> <span class='st'>'se'</span><span class='op'>)</span>
</div><div class='output co'>#&gt;               Qtr1          Qtr2          Qtr3          Qtr4
#&gt; 1962               -0.0114199376 -0.0234531165 -0.0163214475
#&gt; 1963 -0.0358500043  0.0209666048  0.0076380932  0.0083259612
#&gt; 1964 -0.0188290895  0.0037199397 -0.0051436394  0.0097737346
#&gt; 1965 -0.0293533661 -0.0048364240 -0.0123424540 -0.0033272999
#&gt; 1966 -0.0162857279  0.0140421936  0.0076096040  0.0018063081
#&gt; 1967 -0.0022042342  0.0115578700 -0.0047358647 -0.0002083894
#&gt; 1968 -0.0122407530 -0.0133542816  0.0081266963  0.0124152329
#&gt; 1969  0.0108146871  0.0277983028  0.0138837871  0.0315980610
#&gt; 1970 -0.0170534509  0.0208910147 -0.0008313467 -0.0139989019
#&gt; 1971 -0.0050454799  0.0118517614  0.0101372285  0.0138781280</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Kepplinger, Matías Salibián-Barrera, Gabriela Cohen Freue.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


